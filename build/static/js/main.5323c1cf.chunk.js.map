{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","onChange","handleChange","PersonForm","onSubmit","submit","newName","handleNameChange","newNumber","handleNumberChange","type","Persons","personsToShow","handlePersonDelete","map","person","name","number","onClick","Notification","message","notificationStyle","color","isError","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","notificationMessage","setNotificationMessage","setIsError","useEffect","personService","initialPersons","filter","toLowerCase","includes","handleNotificationShow","setTimeout","event","target","preventDefault","some","window","confirm","find","changedPerson","returnedData","returnedPerson","concat","catch","error","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5323c1cf.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n    return (\n      <div>\n          filter shown with<input\n             value={props.value}\n             onChange={props.handleChange} />\n      </div>\n    )\n  }\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n    return (\n        <form onSubmit={props.submit}>\n            <div>\n                name: <input \n                value={props.newName}\n                onChange={props.handleNameChange}/>\n            </div>\n                <div>\n                    number: <input\n                    value={props.newNumber}\n                    onChange={props.handleNumberChange} />\n                </div>\n            <button type=\"submit\">add</button>\n        </form>\n    )\n  }\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({personsToShow, handlePersonDelete}) => {\n    return (\n        <div>\n            {personsToShow.map(person => \n                <p key={person.name}>{person.name} {person.number} <button onClick={() => handlePersonDelete(person)}>delete</button></p>\n            )}\n        </div>\n    )\n  }\n\nexport default Persons","const Notification = ({ message, isError }) => {\n    const notificationStyle = {\n        color: isError ? 'red' : 'green',\n        background: 'lightgrey',\n        fontSize: '20px',\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px',\n      }\n\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div style={notificationStyle}>\n        {message}\n      </div>\n    )\n  }\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [isError, setIsError] = useState(false)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const personsToShow = newFilter === ''\n    ? persons\n    : persons.filter(person => person['name'].toLowerCase().includes(newFilter.toLowerCase()))\n\n  const addPerson = (event) => {\n    event.preventDefault()\n  \n    if (persons.some( person => person['name'] === newName )) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with new one?`)) {\n        const person = persons.find(person => person.name === newName)\n        \n        const changedPerson = { ...person, number: newNumber}\n        \n        personService\n          .update(changedPerson.id, changedPerson)\n          .then(returnedData => {\n            setPersons(persons.map(person => person.name !== newName ? person : changedPerson))\n            setIsError(false)\n            handleNotificationShow(`Updated ${returnedData.name}`)\n          })\n      } \n      setNewName('')\n      setNewNumber('')\n      return\n    }\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    personService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setIsError(false)\n        handleNotificationShow(`Added ${returnedPerson.name}`)\n      }).catch(error => {\n        setIsError(true)\n        handleNotificationShow(`${error.response.data.error}`)\n      })\n  }\n\n  const handleNotificationShow = (message) => {\n    setNotificationMessage(message)\n    setTimeout(() => {\n      setNotificationMessage(null)\n    }, 3000)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const handlePersonDelete = (person) => {\n      if (window.confirm(`Are you sure you want to delete ${person.name}`)) {\n        personService\n          .remove(person.id)\n          .then(returnedPerson => {\n            setPersons(persons.filter(n => n.id !== person.id))\n            setIsError(false)\n            handleNotificationShow(`Deleted ${person.name}`)\n          }).catch(error => {\n            setIsError(true)\n            handleNotificationShow(`Information of '${person.name}' has already been removed from server`)\n            setPersons(persons.filter(n => n.id !== person.id))\n          })\n      }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} isError={isError}/>\n      <Filter value={newFilter} handleChange={handleFilterChange}/>\n      <h2>Add a new</h2>\n      <PersonForm \n        submit={addPerson} \n        newName={newName} \n        newNumber={newNumber} \n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Persons personsToShow={personsToShow} handlePersonDelete={handlePersonDelete}/>\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}